<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Games Hub ‚Äî Homepage</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">

  <style>
    :root {
      --bg:#0f1724; --card:#0b1220; --accent:#7c3aed;
      --muted:#94a3b8; --glass:rgba(255,255,255,0.03);
    }
    *{box-sizing:border-box;margin:0;padding:0}
    html,body{height:100%;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,'Helvetica Neue',Arial}
    body{
      background:linear-gradient(180deg,#071127 0%, #08121a 40%, #071326 100%);
      color:#e6eef8;
    }

    .container{max-width:1100px;margin:36px auto;padding:28px; display:none;} /* container awal disembunyikan */
    header{display:flex;align-items:center;justify-content:space-between;gap:16px}
    .brand{display:flex;gap:12px;align-items:center}
    .logo{
      width:56px;height:56px;border-radius:12px;
      background:linear-gradient(135deg,var(--accent),#4f46e5);
      display:flex;align-items:center;justify-content:center;
      font-weight:700;color:white;font-size:20px;
    }
    h1{margin:0;font-size:22px}
    p.lead{margin:0;color:var(--muted)}
    nav .btn{
      background:transparent;
      border:1px solid rgba(255,255,255,0.06);
      padding:10px 14px;border-radius:10px;
      color:var(--muted);cursor:pointer;
      transition:.2s;
    }
    nav .btn:hover{background:rgba(255,255,255,0.06);color:white;}

    .hero{
      margin-top:20px;padding:20px;
      background:linear-gradient(90deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));
      border-radius:14px;display:flex;gap:20px;align-items:center;
    }
    .hero-left{flex:1}
    .hero-right{width:220px;text-align:center}
    .play-btn{
      display:inline-block;padding:10px 16px;border-radius:12px;
      background:linear-gradient(90deg,var(--accent),#4f46e5);
      color:white;font-weight:600;border:none;cursor:pointer;
      box-shadow:0 4px 12px rgba(0,0,0,0.2);
    }

    .grid{
      display:grid;
      grid-template-columns:repeat(auto-fit,minmax(240px,1fr));
      gap:18px;margin-top:20px;
    }
    .card{
      background:var(--card);
      padding:16px;border-radius:12px;
      border:1px solid rgba(255,255,255,0.03);
      box-shadow:0 6px 20px rgba(2,6,23,0.6);
      transition:.3s;
    }
    .card:hover{transform:translateY(-3px);background:#101a2f;}
    .thumb{
      height:120px;border-radius:8px;
      background:linear-gradient(135deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));
      display:flex;align-items:center;justify-content:center;
      font-size:20px;color:var(--muted);margin-bottom:12px;
    }
    .card h3{margin:0 0 8px 0}
    .meta{color:var(--muted);font-size:13px;margin-bottom:12px}
    .actions{display:flex;gap:8px}
    .small-btn{
      padding:8px 10px;border-radius:8px;
      background:var(--glass);
      border:1px solid rgba(255,255,255,0.02);
      color:#dbeafe;cursor:pointer;
      transition:.2s;
    }
    .small-btn:hover{background:rgba(255,255,255,0.1);}

    footer{margin-top:26px;color:var(--muted);font-size:14px;text-align:center}

    /* modal */
    .modal{
      position:fixed;inset:0;display:none;
      align-items:center;justify-content:center;
      background:rgba(2,6,23,0.6);z-index:40;
    }
    .modal.open{display:flex}
    .modal-panel{
      width:900px;max-width:95%;
      background:#071428;padding:18px;border-radius:12px;
      border:1px solid rgba(255,255,255,0.03);
    }
    .modal-header{
      display:flex;align-items:center;justify-content:space-between;
      margin-bottom:12px;
    }
    .close{background:none;border:none;color:var(--muted);cursor:pointer}
    .close:hover{color:white;}
    .game-area{
      background:#061125;border-radius:10px;
      padding:12px;display:flex;flex-direction:column;
      align-items:center;min-height:320px;gap:10px;
    }
    @media (max-width:600px){.hero{flex-direction:column}.hero-right{width:100%}}

    /* loading screen */
    #loading-screen {
      position: fixed; inset:0;
      display:flex; flex-direction:column;
      justify-content:center; align-items:center;
      background: rgba(0,0,0,0.9);
      color: #fff;
      font-size:2em;
      z-index:9999;
    }
    #loading-screen p {
      font-size:0.9em;
      color:#aaa;
      margin-top:10px;
    }
  </style>
</head>

<body>
  <!-- Loading screen -->
  <div id="loading-screen">
    <div>Loading...</div>
    <p>Mohon tunggu sebentar</p>
  </div>

  <div class="container">
    <header>
      <div class="brand">
        <div class="logo">AH</div>
        <div>
          <h1>Arcade Hub</h1>
          <p class="lead">Kumpulan game ringan untuk dimainkan langsung di browser ‚Äî klik & mainkan!</p>
        </div>
      </div>
      <nav>
        <button class="btn" id="logoutBtn">Keluar</button>
      </nav>
    </header>

    <section class="hero">
      <div class="hero-left">
        <h2>Mainkan game langsung, tanpa instalasi</h2>
        <p class="lead">Pilih dari koleksi game santai: Puzzles, Arcade, Memory, dan mini-games eksperimental. Cocok untuk iseng, break, atau nunggu build selesai.</p>
        <div style="margin-top:12px">
          <button class="play-btn" onclick="openGame('clickbox')">Mainkan Sekarang ‚Äî Click the Box</button>
        </div>
      </div>
      <div class="hero-right">
        <div style="background:linear-gradient(180deg,rgba(255,255,255,0.02),transparent);padding:12px;border-radius:10px">
          <strong>Top Score</strong>
          <div style="font-size:20px;margin-top:8px">‚Äî <span id="topScore">0</span> ‚Äî</div>
          <div style="margin-top:12px;color:var(--muted);font-size:13px">Coba beat skor tertinggi kamu!</div>
        </div>
      </div>
    </section>

    <section class="grid" aria-label="Koleksi game">
      <article class="card">
        <div class="thumb">üß±Tetris Gameüëë</div>
        <h3>Memory</h3>
        <div class="meta">Pasangkan kartu yang mirip. Mode single-player.</div>
        <div class="actions">
          <button class="small-btn" onclick="window.location.href='https://ekakurniawan52626-spec.github.io/gametetris/';">Play</button>
          <button class="small-btn" onclick="notifySoon()">Info</button>
        </div>
      </article>

      <article class="card">
        <div class="thumb">üß† Memory</div>
        <h3>Memory</h3>
        <div class="meta">Pasangkan kartu yang mirip. Mode single-player.</div>
        <div class="actions">
          <button class="small-btn" onclick="window.location.href='https://www.contohweb.com';">Play</button>
          <button class="small-btn" onclick="notifySoon()">Info</button>
        </div>
      </article>

      <article class="card">
        <div class="thumb">üïπÔ∏è Snake</div>
        <h3>Snake (coming soon)</h3>
        <div class="meta">Classic snake ‚Äî tambahkan untuk versi lengkap.</div>
        <div class="actions">
          <button class="small-btn" onclick="window.location.href='https://ekakurniawan52626-spec.github.io/gamessnake/';">Play</button>
          <button class="small-btn" onclick="notifySoon()">Info</button>
        </div>
      </article>
    </section>

    <footer>¬© <span id="year"></span> Games Hub ‚Äî dibuat cepat dan ringan.</footer>
  </div>

  <!-- Modal -->
  <div id="modal" class="modal" role="dialog" aria-hidden="true">
    <div class="modal-panel">
      <div class="modal-header">
        <strong id="modalTitle">Game</strong>
        <button class="close" onclick="closeModal()">‚úñ</button>
      </div>
      <div class="game-area" id="gameArea"></div>
    </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      // Cek login
      if(localStorage.getItem('loggedIn') !== 'true') {
        window.location.href = "login.html";
        return;
      }

      // Tampilkan loading dulu selama 1 detik
      const loading = document.getElementById('loading-screen');
      const container = document.querySelector('.container');
      setTimeout(() => {
        loading.style.display = 'none';
        container.style.display = 'block';
      }, 1000);

      // Tahun otomatis
      document.getElementById('year').textContent = new Date().getFullYear();

      // Tombol Logout
      document.getElementById('logoutBtn').addEventListener('click', () => {
        localStorage.removeItem('loggedIn');
        window.location.href = 'login.html';
      });

      // Top score
      let topScore = Number(localStorage.getItem('ah_topscore') || 0);
      document.getElementById('topScore').textContent = topScore;
    });

    // Game helpers
    function notifySoon(){alert('Game ini akan segera hadir ‚Äî stay tuned!');}
    function openGame(name){
      const modal = document.getElementById('modal');
      const area = document.getElementById('gameArea');
      const title = document.getElementById('modalTitle');
      area.innerHTML = '';
      if(name==='clickbox'){
        title.textContent = 'Click the Box ‚Äî Mainkan!';
        area.innerHTML = `
          <div style="width:100%;display:flex;flex-direction:column;align-items:center;gap:8px">
            <div style="display:flex;gap:12px;align-items:center">
              <div>Skor: <strong id='score'>0</strong></div>
              <button class='small-btn' id='restartBtn'>Mulai Ulang</button>
            </div>
            <div id='boxArea' style='width:100%;max-width:720px;height:320px;position:relative;'></div>
            <div style='color:var(--muted);font-size:13px'>Klik kotak yang bergerak untuk menambah skor!</div>
          </div>`;
        setTimeout(initClickBox,10);
      }
      modal.classList.add('open');
      modal.setAttribute('aria-hidden','false');
    }

    function closeModal(){
      const modal = document.getElementById('modal');
      modal.classList.remove('open');
      modal.setAttribute('aria-hidden','true');
      document.getElementById('gameArea').innerHTML = '';
    }

    function initClickBox(){
      const boxArea = document.getElementById('boxArea');
      const scoreEl = document.getElementById('score');
      const restartBtn = document.getElementById('restartBtn');
      let score = 0, interval = 1500, box, timeout;

      function spawnBox(){
        if(box) box.remove();
        box = document.createElement('div');
        const size = Math.max(30, Math.min(120, 120 - Math.floor(score/3)));
        box.style.cssText = `
          width:${size}px;height:${size}px;position:absolute;
          border-radius:8px;cursor:pointer;
          background:linear-gradient(135deg,var(--accent),#4f46e5);
        `;
        const pw = boxArea.clientWidth - size;
        const ph = boxArea.clientHeight - size;
        box.style.left = Math.floor(Math.random()*pw)+'px';
        box.style.top = Math.floor(Math.random()*ph)+'px';
        box.onclick = () => {
          score++;
          scoreEl.textContent = score;
          interval = Math.max(350, 1500 - score*40);
          spawnBox();
        };
        boxArea.appendChild(box);
      }

      function loop(){
        spawnBox();
        timeout = setTimeout(loop, interval);
      }

      restartBtn.onclick = () => {
        clearTimeout(timeout);
        score = 0;
        scoreEl.textContent = 0;
        interval = 1500;
        loop();
      };

      loop();

      const observer = new MutationObserver(() => {
        if(!document.getElementById('modal').classList.contains('open')){
          clearTimeout(timeout);
          if(score > Number(localStorage.getItem('ah_topscore')||0)){
            localStorage.setItem('ah_topscore', score);
            document.getElementById('topScore').textContent = score;
            alert('New top score: ' + score);
          }
          observer.disconnect();
        }
      });
      observer.observe(document.getElementById('modal'), {attributes:true, attributeFilter:['class']});
    }
  </script>
</body>
</html>
